extends layout

block form
  br
  .col-lg-6.col-lg-offset-6.col-md-6.col-md-offset-6.col-sm-8.col-sm-offset-2.col-xs-10
     .well
       form(action='/users', method='post').form-horizontal.bs-example
         .fieldset
           legend Create an account!
            input(type="hidden", name="_csrf", value=csrftoken)
           .form-group
              label.col-lg-2.control-label  Username
              div.col-lg-10
                  input.form-control(type='text',
                       name='username',
                       placeholder='User Name')
           .form-group
              label.col-lg-2.control-label  Password
              div.col-lg-10
                  input.form-control(
                       type='password',
                       name='password',
                       placeholder='Password')
           .form-group
              label.col-lg-2.control-label  Email
              div.col-lg-10
                  input.form-control(
                       type='email',
                       name='email',
                       placeholder='Your Email')
           .form-group
              label.col-lg-2.control-label  Institution
              div.col-lg-10
                  input.form-control(
                       type='text',
                       name='institution_name',
                       placeholder='Your Institution')
           .form-group
              label.col-lg-2.control-label  Course
              div.col-lg-10
                  input.form-control(
                       type='text',
                       name='course_name',
                       placeholder='Your Course (Optional)')
           .form-group
               div.col-lg-10
                   input(type='submit', value='Register').btn.btn-primary

block validate
    -if (typeof locals.errors !== 'undefined') {
      - if (typeof locals.errors.username != 'undefined'){
          .alert.alert-danger
            strong Username:
            .err #{errors.username.message}
      - }
      - if (typeof locals.errors.hashed_password != 'undefined'){
          .alert.alert-danger
            strong Password:
            .err  #{errors.hashed_password.message}
      - }
      - if (typeof locals.errors.institution_name != 'undefined'){
          .alert.alert-danger
              strong Institution:
              .err #{errors.institution_name.message}
      - }
      - if (typeof locals.errors.email != 'undefined'){
          .alert.alert-danger
              strong Email:
              .err #{errors.email.message}
      - }
      - if (typeof locals.errors.message != 'undefined'){
        .alert.alert-danger
            strong Error:
            .err #{errors.message}
      - }
    - }
